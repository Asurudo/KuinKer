# 倍增

## 例题编号

**NULL**

------



```c++
struct bitgo
{
	int f[maxn][31];
	void init()
	{
		memset(f, -1, sizeof f);
		_for(i,1,31)
			_for(j,1,maxn)
				f[j][i] = f[f[j][i-1]][i-1];
	}
	//一直走到y停，返回走了多少步  
	int gountily(int x,int y)
	{
		int res = 1;
		_rep(i,30,-1) 
		{
			if(f[x][i] <= y) 
				res += (1<<i), x = f[x][i];
			if(x==-1)
				break; 
		} 
		return res;
	}
	//走y步，返回-1说明没路了 
	int goystep(int x,int y)
	{
		_rep(i,30,-1)
		{
			if(y>=(1<<i))
				y -= (1<<i), x = f[x][i];
			if(x==-1)
				break; 
		}
		return x;
	}
} bz;
```

