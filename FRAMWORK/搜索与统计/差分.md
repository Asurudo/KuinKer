# 差分

## 例题编号

**1027**

------

对于给定的数列 $A$ ，它的差分数列 $B$ 定义为：

​	$B[1]=A[1],B[i]=A[i]-A[i-1](2≤i≤n)$

前缀和和差分为互逆运算，差分数列 $B$ 的前缀和数列就是原数列 $A$ ，前缀和序列 $S$ 的差分数列也是原数列 $A$。

把数列 $A$ 的区间 $[l,r]$ 都加上 $d$ ,其差分数列 $B$ 中，变化为 $B_l+=d$ ，$B_{r+1}-=d$。

```c++
struct chas
{
	//数组长度
    ll n;
    //差分数列
    ll b[maxn];
    //差分数列的前缀和，也就是原数列
	ll s[maxn];
	chas()
	{
		memset(b,0,sizeof(b));
		memset(s,0,sizeof(s));
	}
    //数组下标位置[l,r]的部分加上d
	void add(int l,int r,ll d)
	{
		b[l] += d;
		b[r+1] -= d;
	}
    //获得差分数列的前缀和，即获得数组的真实增减量，将其与原数组相加即可得到变化后的数组
	void getfinal()
	{
		_for(i,1,n+1)
			s[i] = s[i-1]+b[i];
	}	
}C;
```

